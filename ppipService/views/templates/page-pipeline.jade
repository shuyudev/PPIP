div(class="inventory")
  h2 {{ message }}
  ul(class="phones-list")
    li(ng-repeat="pipeline in pipelines")
      svg(version="1.1",xmlns="http://www.w3.org/2000/svg",xmlns:xlink="http://www.w3.org/1999/xlink",width="200px",height="500px"
        ng-click="togglePipeline(pipeline)")
        rect(width="100%", height="100%", style="fill:#222; stroke:lightgray; stroke-width:5")
        text(x="15", y="100", fill="white", font-size="18") {{pipeline.name + '(' + pipeline.id + ')'}}
        text(x="15", y="130", fill="white", font-size="14") {{pipeline.type}}
        text(x="15", y="190", fill="white", font-size="14") {{'in: ' + pipeline.input[0].id + ' ' + pipeline.input[0].name}}
        text(x="15", y="220", fill="white", font-size="14") {{'out: ' + pipeline.output[0].id + ' ' + pipeline.output[0].name}}
        polygon(points="160,0 200,0, 200, 40", style="fill:rgb(63,81,181); stroke:lightgray; stroke-width:3" ng-if="pipeline.status=='enabled'")
        polygon(points="160,0 200,0, 200, 40", style="fill:#8a1717; stroke:lightgray; stroke-width:3" ng-if="pipeline.status=='disabled'")
    li(ng-repeat="pipeline in newPipeline")
      svg(version="1.1",xmlns="http://www.w3.org/2000/svg",xmlns:xlink="http://www.w3.org/1999/xlink",width="200px",height="500px")
        rect(width="100%", height="100%", style="fill:#fff; stroke:lightgray; stroke-width:10; stroke-dasharray:10,5")
        foreignObject(width="100%", y="0", height="100%", )
          body(width="100%" xmlns="http://www.w3.org/1999/xhtml")
            md-content.md-padding(style="margin:0.5em")
              form
                md-input-container
                  label Pipeline Name
                  input(type="text" ng-model="pipeline.name")
                md-input-container
                  label Pipeline Type
                  input(type="text" ng-model="pipeline.type" readonly)
                md-input-container
                  label Input Phone
                  input(type="text" ng-model="pipeline.input")
                md-input-container
                  label Output Phone
                  input(type="text" ng-model="pipeline.output")
                div(layout="row" layout-align="space-around center")
                  md-button.md-raised.md-primary(type="submit" ng-click="submit(pipeline)") Add
                  md-button.md-raised(ng-click="cancel(pipeline)") Cancel
    li(class="new-phone")
      a(href="" ng-click="new()")
        svg(version="1.1",xmlns="http://www.w3.org/2000/svg",xmlns:xlink="http://www.w3.org/1999/xlink",width="200px",height="500px")
          rect(width="100%", height="100%", style="fill:#fff; stroke:lightgray; stroke-width:10; stroke-dasharray:10,5")
          line(y1="150" y2="150" x1="70" x2="130" style="stroke:lightgray; stroke-width:10")
          line(y1="120" y2="180" x1="100" x2="100" style="stroke:lightgray; stroke-width:10")
